<Window x:Class="hpl_editor_application.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:hpl_editor_application"
        mc:Ignorable="d"
        xmlns:avalonedit="http://icsharpcode.net/sharpdevelop/avalonedit"
        Title="HPL Editor" Height="800" Width="1200">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="20" />
            <RowDefinition Height="*" />
            <RowDefinition Height="20" />
        </Grid.RowDefinitions>

        <Menu Grid.Row="0">
            <MenuItem x:Name="MenuNew" Header="New" Click="MenuNew_Click"/>
            <MenuItem x:Name="MenuLoad" Header="Open" Click="MenuLoad_Click"/>
            <MenuItem x:Name="MenuSave" Header="Save" Click="MenuSave_Click"/>
            <MenuItem x:Name="MenuSaveAs" Header="Save As" Click="MenuSaveAs_Click"/>
        </Menu>

        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200" />
                <!-- Left panel default width -->
                <ColumnDefinition Width="5" />
                <!-- GridSplitter -->
                <ColumnDefinition Width="*" />
                <!-- Editor expands to fill -->
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="300" />
            </Grid.ColumnDefinitions>

            <!-- Left Panel -->
            <avalonedit:TextEditor Grid.Column="0"
                           Name="GlobalEditor"
                           ShowLineNumbers="True"
                           FontFamily="Consolas"
                           FontSize="14"
                           HorizontalScrollBarVisibility="Auto"
                           VerticalScrollBarVisibility="Auto" Margin="0,26,0,0" />

            <!-- GridSplitter -->
            <GridSplitter Grid.Column="1"
                  Width="5"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  ResizeBehavior="PreviousAndNext"
                  Background="Gray" />

            <Grid Grid.Column="2">

                <Grid.RowDefinitions>
                    <RowDefinition Height="200" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TabControl Grid.Row="0">
                    <TabItem Header="OnStart">
                        <avalonedit:TextEditor
                           Name="OnStartEditor"
                           ShowLineNumbers="True"
                           FontFamily="Consolas"
                           FontSize="14"
                           HorizontalScrollBarVisibility="Auto"
                           VerticalScrollBarVisibility="Auto" />
                    </TabItem>
                    <TabItem Header="OnEnter">
                        <avalonedit:TextEditor
                           Name="OnEnterEditor"
                           ShowLineNumbers="True"
                           FontFamily="Consolas"
                           FontSize="14"
                           HorizontalScrollBarVisibility="Auto"
                           VerticalScrollBarVisibility="Auto" />
                    </TabItem>
                    <TabItem Header="OnLeave">
                        <avalonedit:TextEditor
                           Name="OnLeaveEditor"
                           ShowLineNumbers="True"
                           FontFamily="Consolas"
                           FontSize="14"
                           HorizontalScrollBarVisibility="Auto"
                           VerticalScrollBarVisibility="Auto" />
                    </TabItem>
                </TabControl>

                <!-- GridSplitter -->
                <GridSplitter Grid.Row="1"
                  Height="5"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  ResizeBehavior="PreviousAndNext"
                  Background="Gray" />

                <!-- AvalonEdit Code Editor -->
                <avalonedit:TextEditor
                           Grid.Row="2"
                           Name="MainEditor"
                           ShowLineNumbers="True"
                           FontFamily="Consolas"
                           FontSize="14"
                           HorizontalScrollBarVisibility="Auto"
                           VerticalScrollBarVisibility="Auto" Margin="0,26,0,0" />
                <Label Content="Main Code Editor" Margin="0,0,10,0" Grid.Row="2" VerticalAlignment="Top" FontFamily="Consolas" ToolTip="Main body of code for your map script."/>
            </Grid>

            <GridSplitter Grid.Column="3"
                  Width="5"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  ResizeBehavior="PreviousAndNext"
                  Background="Gray" />

            <ListView x:Name="FunctionList"
                      Grid.Column="4"
                      d:ItemsSource="{d:SampleData ItemCount=5}"
                      ItemsSource="{Binding Snippets}"
                      SelectionMode="Single"
                      HorizontalContentAlignment="Stretch" Margin="0,26,0,0">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Expander Header="{Binding Name}">
                            <ListView ItemsSource="{Binding Snippets}"
                              HorizontalContentAlignment="Stretch">
                                <ListView.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock DataContext="{Binding}" Text="{Binding Name}" MouseUp="TextBlock_MouseUp"/>
                                    </DataTemplate>
                                </ListView.ItemTemplate>
                            </ListView>
                        </Expander>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <Label Grid.Column="4" Content="Snippet Library" VerticalAlignment="Top" Height="26"/>
            <Label Content="Global Code" VerticalAlignment="Top" Grid.ColumnSpan="2" Margin="-1,0,4,0" FontFamily="Consolas" ToolTip="Use this for global variable declorations and anything else too important to be tossed in the 'Main Code' section." />

        </Grid>

        <Label x:Name="StatusBarLabel" Content="" Grid.Row="2" FontFamily="Consolas" FontSize="10" Background="LightGray"/>
    </Grid>
</Window>